---
title: "Swift의 데이터 저장 방식"
elements:
  - content
  - css
  - formatting
  - html
  - markup
categories:
  - Swift
tags:
  - Swift
  - Data
  - Propertylist
  - DataBase
  - Archiving


---



앱을 실행하는 동안 생성된 모든 데이터는 기본적으로 메모리에 저장된다.

하지만 애플리케이션을 종료하는 순간 모두 지워지기 때문에, 보존해야 할 데이터는 특수한 방식으로 저장 해야한다.





코코아 터치 프레임워크는 데이터를 저장하기 위한 여러가지 방법을 제공 하는데, 비교적 가벼운 텍스트 부터 크고 무거운 바이너리까지 저장할 데이터의 형식과 내용느 무척 다양하기 때문에 이를 저장하기 위한 방식도 매우 다양하다.



### 1. 프로퍼티 리스트

데이터의 복잡도와 특성에 따라 크게 세 가지로 나눌 수 있는데, 우선 키-값(Key - Value) 형태로 단순화 할 수 있는 데이터의 저장에는 프로퍼티 리스트가 사용된다.

개인 정보나 로그인 데이터, 환경 설정값을 저장해야 할 때가 대표적인 경우다.

프로퍼티 리스트는 iOS에서 기본으로 제공하는 프로퍼티 리스트를 사용하는 방식인 **UserDefaults** 방식과 직접 만들어서 사용하는 **커스텀 프로퍼티 리스트(Custom Plist)**로 나누어 진다.

<br>

![key-value-data](/images/key-value-data.png)

------

*키 - 값 형식으로 저장 가능한 데이터 예시*

*( 사진 출처 - https://zeddios.tistory.com/107  )*

<br>

<br>

### 2. 데이터베이스형 객체

반면 지속적으로 추가되는 데이터나 구조적인 데이터를 저장할 때에는 **코어 데이터(Core Data)** 또는 **SQLite와 같은 데이터베이스형 객체**를 사용합니다. 적게는 수십 개에서 수만 개 이상의 데이터도 빠르게 일고 쓸 수 있다.

대표적으로 메모장 앱의 메모 목로그 캘린더의 일정 정보, SNS의 게시글 등 주로 테이블 뷰나 컬렉션 뷰를 통해 표현하는 데이터 등이 이 방식으로 저장하기에 적합하다.

<br>

![table-view-data](/images/table-view-data.png)

------

*테이블 뷰 형태로 표현되는 데이터들*

*( 사진 출처 - https://m.blog.naver.com/seotaji/220230139603 )*

<br>

<br>

### 3. 비정형 데이터

마지막으로 일반 데이터 타입으로 표현할 수 없는 비정형 데이터를 저장할 때에는 **아카이빙(Archiving)**을 사용한다. 아카이빙을 사용하면 데이터 자체를 그대로 저장 할 수 있으므로, 복잡한 데이터의 저장에 유리지만 대량의 데이터를 저장하는 것에는 적절하지 않다.



아카이빙은 메모리에 저장된 데이터 자체를 그대로 저장하는 기술이기 때문에, 특정 순간 인스턴스 객체에 저장된 모든 값을 통째로 캡쳐(Capture)할 수도 있다.

<br>

![swift-save-data](/images/swift-save-data.png)

------

*저장 데이터 특성에 따른 저장 방식과 관련 기술*

<br>

<br>

#### 3줄 요약

- **비교적 간단한 데이터라면, 프로퍼티 리스트를 사용**
- **테이블 뷰나 컬렉션 뷰로 표현해야 할 데이터라면, 코어데이터 또는 SQLIite 를 사용**
- **위 두 가지에 해당하지 않는다면, 아카이빙**

